<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tio Vet - Cl√≠nica Veterin√°ria</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 0;
    }
    header, footer {
      text-align: center;
      padding: 20px;
      background: #4CAF50;
      color: white;
    }
    section {
      margin: 15px;
      padding: 15px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 0 6px rgba(0,0,0,0.1);
    }
    input, button {
      margin: 5px;
      padding: 8px;
    }
    .resultado {
      margin-top: 10px;
      font-weight: bold;
      color: #333;
    }
    .progress-container {
      width: 100%;
      background: #ddd;
      border-radius: 8px;
      margin-top: 10px;
    }
    .progress-bar {
      width: 0%;
      height: 20px;
      background: #4CAF50;
      border-radius: 8px;
      text-align: center;
      color: white;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <header>
    <h1>üê∂ Tio Vet - Cl√≠nica Veterin√°ria üò∫</h1>
    <p>Sistema interativo desenvolvido em HTML + JavaScript</p>
  </header>

  <!-- Atividade 1 -->
  <section>
    <h2>Agendamento</h2>
    <input id="tutor" placeholder="Nome do tutor">
    <input id="pet" placeholder="Nome do pet">
    <button onclick="agendar()">Agendar</button>
    <div id="resAgendamento" class="resultado"></div>
  </section>

  <!-- Atividade 2 -->
  <section>
    <h2>Valor da consulta</h2>
    <p>Valor da consulta: R$ 250,00<br>
    ü§©‚ú®Pets idosos t√™m desconto ‚ú®ü§©</p>
    
    <input id="idadePet" type="number" placeholder="Idade do pet">
    <button onclick="calcularDesconto()">Calcular</button>
    
    <!-- Resultado aparece aqui -->
    <div id="resDesconto" class="resultado"></div>
  </section>

  <!-- Atividade 3 -->
  <section>
    <h2>Progresso da Consulta</h2>
    <button onclick="simularProgresso()">Iniciar Consulta</button>
    <div class="progress-container">
      <div id="progressBar" class="progress-bar">0%</div>
    </div>
    <div id="resProgresso" class="resultado"></div>
  </section>

  <!-- Atividade 4 -->
  <section>
    <h2>Descubra qual a idade humana do seu pet</h2>
    <input id="idadePetHumana" type="number" placeholder="Idade do pet">
    <button onclick="converterIdade()">Converter</button>
    <div id="resIdadeHumana" class="resultado"></div>
  </section>

  <!-- Atividade 5 -->
  <section>
    <h2>Fila de Atendimento</h2>
    <input id="filaPets" type="number" placeholder="N√∫mero de pets na fila">
    <button onclick="calcularFila()">Calcular</button>
    <div id="resFila" class="resultado"></div>
  </section>

  <section>
  <h2>Relat√≥rio do Atendimento</h2>
  <button onclick="gerarRelatorio()">Gerar Relat√≥rio</button>
  <div id="resRelatorio" class="resultado"></div>
</section>


  <footer>
    <p>Desenvolvido por F√°bio Maida üöÄ</p>
  </footer>

  <script>
    // Atividade 1
    function agendar() {
      const tutor = document.getElementById("tutor").value;
      const pet = document.getElementById("pet").value;
      document.getElementById("resAgendamento").innerText =
        `Ol√°, ${tutor}! A consulta do ${pet} foi agendada com sucesso.`;
    }

    // Atividade 2
    function calcularDesconto() {
      const idade = parseInt(document.getElementById("idadePet").value);
      const valor = 250; // valor fixo
      let valorFinal = idade > 10 ? valor - 15 : valor;

      document.getElementById("resDesconto").innerText =
        `Pague R$ ${valorFinal.toFixed(2)} nessa consulta`;
    }

    // Atividade 3
    function simularProgresso() {
      let progresso = 0;
      const bar = document.getElementById("progressBar");
      const res = document.getElementById("resProgresso");
      res.innerText = "üè• Consulta em andamento...";
      const intervalo = setInterval(() => {
        progresso++;
        bar.style.width = progresso + "%";
        bar.innerText = progresso + "%";
        if (progresso === 25) res.innerText = "Estamos apenas come√ßando!";
        if (progresso === 50) res.innerText = "Metade do caminho!";
        if (progresso === 75) res.innerText = "Quase l√°!";
        if (progresso >= 100) {
          clearInterval(intervalo);
          res.innerText = "üê∂üò∫ Consulta conclu√≠da com sucesso!";
        }
      }, 300); // 300ms = anima√ß√£o r√°pida
    }

    // Atividade 4
    function converterIdade() {
      const idade = parseInt(document.getElementById("idadePetHumana").value);
      let idadeHumana;
      if (idade === 1) idadeHumana = 15;
      else if (idade === 2) idadeHumana = 15 + 9;
      else idadeHumana = 15 + 9 + (idade - 2) * 5;
      document.getElementById("resIdadeHumana").innerText =
        `üê∂üò∫Seu "serumaninho" tem ${idadeHumana} anos!üê∂üò∫`;
    }

    // Atividade 5
function gerarRelatorio() {
  const tutor = document.getElementById("tutor").value || "n√£o informado";
  const pet = document.getElementById("pet").value || "n√£o informado";
  const idade = parseInt(document.getElementById("idadePet").value) || 0;
  const fila = parseInt(document.getElementById("filaPets").value) || 0;

  // Valor fixo da consulta
  const valor = 250;
  let valorFinal = valor;
  let descontoMsg = "";
  if (idade > 10) {
    valorFinal = valor - 15;
    descontoMsg = " (recebeu o desconto de R$15,00 pela idade do pet)";
  }

  // Idade humana equivalente
  let idadeHumana;
  if (idade === 1) idadeHumana = 15;
  else if (idade === 2) idadeHumana = 24;
  else if (idade > 2) idadeHumana = 24 + (idade - 2) * 5;
  else idadeHumana = "n√£o informada";

  // Tempo de espera na fila
  let tempo = fila > 0 ? fila * 30 : 0;
  let tempoMsg = "";
  if (tempo > 0) {
    const horas = Math.floor(tempo / 60);
    const minutos = tempo % 60;
    tempoMsg = "Voc√™ esperou ";
    if (horas > 0) tempoMsg += `${horas}h `;
    if (minutos > 0) tempoMsg += `${minutos}min`;
    tempoMsg += " na fila.";
  } else {
    tempoMsg = "Sem fila! Atendimento imediato.";
  }

  // Data e hora atuais
  const agora = new Date();
  const dia = agora.toLocaleDateString("pt-BR");
  const hora = agora.toLocaleTimeString("pt-BR");

  const relatorio = 
`üìã Resumo do atendimento:

A consulta do(a) ${pet} foi agendada com sucesso no dia ${dia} √†s ${hora};
O valor da consulta foi R$ ${valorFinal.toFixed(2)}${descontoMsg};
Voc√™ descobriu que se o(a) ${pet} fosse um "serumaninho", teria ${idadeHumana} anos.
${tempoMsg}

A Tio Vet agradece a sua confian√ßa, at√© a pr√≥xima!
N√£o se esque√ßa de agendar o retorno que j√° est√° incluso no valor pago desta consulta!`;

  document.getElementById("resRelatorio").innerText = relatorio;

  // Opcional: abrir janela de impress√£o
  // window.print();
}


  </script>
</body>
</html>

